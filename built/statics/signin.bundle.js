webpackJsonp([3],{0:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}var n=a(4),r=l(n),s=a(28),i=l(s),o=a(54),u=l(o),d=a(53),c=l(d),m=r["default"].createClass({displayName:"SigninPage",render:function(){return r["default"].createElement("div",null,r["default"].createElement("div",{className:"header clearfix"},r["default"].createElement(u["default"],null)),r["default"].createElement(c["default"],null))}});i["default"].render(r["default"].createElement(m,null),document.getElementById("content"))},53:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(27),r=l(n),s=a(4),i=l(s);t["default"]=i["default"].createClass({displayName:"signin-form",getInitialState:function(){return{email:"",password:"",showAlert:!1,alertText:"",waiting:!1}},render:function(){var e=i["default"].createElement("div",{className:"alert alert-danger",role:"alert"},i["default"].createElement("small",null,this.state.alertText));return i["default"].createElement("form",{className:"form-signin",onSubmit:this.handleSubmit},i["default"].createElement("h2",{className:"form-signin-heading"},"Вход"),i["default"].createElement("div",{className:"form-signin-heading-underline"}),this.state.showAlert?e:null,i["default"].createElement("div",{className:"form-group"},i["default"].createElement("label",{htmlFor:"inputEmail"},"Ваш email"),i["default"].createElement("input",{type:"email",id:"inputEmail",className:"form-control",placeholder:"Укажите ваш email",required:!0,autoFocus:!0,value:this.state.email,onChange:this.handleEmailChange,readOnly:this.state.waiting})),i["default"].createElement("div",{className:"form-group"},i["default"].createElement("label",{htmlFor:"inputPassword"},"Пароль"),i["default"].createElement("input",{type:"password",id:"inputPassword",className:"form-control",placeholder:"Введите пароль",required:!0,value:this.state.password,onChange:this.handlePasswordChange,readOnly:this.state.waiting})),i["default"].createElement("div",{className:"row"},i["default"].createElement("div",{className:"col-sm-6"},i["default"].createElement("button",{type:"submit",className:"btn btn-primary btn-block",readOnly:this.state.waiting},this.state.waiting?"Вход...":"Войти")),i["default"].createElement("div",{className:"col-sm-6"},i["default"].createElement("button",{type:"button",onClick:this.handleRecovery,className:"btn btn-link btn-block"},"Забыли пароль?"))))},handleEmailChange:function(e){this.setState({email:e.target.value})},handlePasswordChange:function(e){this.setState({password:e.target.value})},handleSubmit:function(e){e.preventDefault(),this.setState({waiting:!0}),$.ajax({type:"POST",url:"/ServiceModel/AuthService.svc/Login",data:JSON.stringify({TimeZoneOffset:(new Date).getTimezoneOffset(),UserName:this.state.email,UserPassword:this.state.password,WorkspaceName:"Default"}),contentType:"application/json",dataType:"json",success:this.handleLoginResult,error:this.handleLoginError})},handleLoginResult:function(e){return this.setState({waiting:!1}),0!=e.Code?void this.setState({password:"",showAlert:!0,alertText:e.Message}):void $.ajax({type:"POST",url:"/0/rest/LeadGeneratorService/SaveReferralIntoSession",data:JSON.stringify({param:r["default"].get("lead_generator_referral")}),contentType:"application/json",dataType:"json",success:function(){return location.replace("/0/Nui/ViewModule.aspx")},error:function(){return location.replace("/0/Nui/ViewModule.aspx")}})},handleLoginError:function(e,t,a){this.setState({showAlert:!0,alertText:a.toString(),waiting:!1})},handleRecovery:function(){location.replace("/recovery.html")}})}});
//# sourceMappingURL=signin.bundle.js.map