webpackJsonp([3],{0:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=a(4),l=n(r),i=a(45),s=n(i),o=a(52),c=n(o),u=a(51),d=n(u),f=l["default"].createClass({displayName:"SigninPage",render:function(){return l["default"].createElement("div",null,l["default"].createElement("div",{className:"header clearfix"},l["default"].createElement(c["default"],null)),l["default"].createElement(d["default"],null))}});s["default"].render(l["default"].createElement(f,null),document.getElementById("content"))},27:function(e,t,a){var n,r;!function(l){n=l,r="function"==typeof n?n.call(t,a,t,e):n,!(void 0!==r&&(e.exports=r))}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var a=arguments[e];for(var n in a)t[n]=a[n]}return t}function t(a){function n(t,r,l){var i;if("undefined"!=typeof document){if(arguments.length>1){if(l=e({path:"/"},n.defaults,l),"number"==typeof l.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*l.expires),l.expires=s}try{i=JSON.stringify(r),/^[\{\[]/.test(i)&&(r=i)}catch(o){}return r=a.write?a.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape),document.cookie=[t,"=",r,l.expires&&"; expires="+l.expires.toUTCString(),l.path&&"; path="+l.path,l.domain&&"; domain="+l.domain,l.secure?"; secure":""].join("")}t||(i={});for(var c=document.cookie?document.cookie.split("; "):[],u=/(%[0-9A-Z]{2})+/g,d=0;d<c.length;d++){var f=c[d].split("="),m=f.slice(1).join("=");'"'===m.charAt(0)&&(m=m.slice(1,-1));try{var p=f[0].replace(u,decodeURIComponent);if(m=a.read?a.read(m,p):a(m,p)||m.replace(u,decodeURIComponent),this.json)try{m=JSON.parse(m)}catch(o){}if(t===p){i=m;break}t||(i[p]=m)}catch(o){}}return i}}return n.set=n,n.get=function(e){return n(e)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(t,a){n(t,"",e(a,{expires:-1}))},n.withConverter=t,n}return t(function(){})})},51:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(27),l=n(r),i=a(4),s=n(i);t["default"]=s["default"].createClass({displayName:"signin-form",getInitialState:function(){return{email:"",password:"",showAlert:!1,alertText:"",waiting:!1}},render:function(){var e=s["default"].createElement("div",{className:"alert alert-danger",role:"alert"},s["default"].createElement("small",null,this.state.alertText));return s["default"].createElement("form",{className:"form-signin",onSubmit:this.handleSubmit},s["default"].createElement("h2",{className:"form-signin-heading"},"Вход"),s["default"].createElement("div",{className:"form-signin-heading-underline"}),this.state.showAlert?e:null,s["default"].createElement("div",{className:"form-group"},s["default"].createElement("label",{htmlFor:"inputEmail"},"Ваш e-mail"),s["default"].createElement("input",{type:"email",id:"inputEmail",className:"form-control",placeholder:"Укажите ваш e-mail",required:!0,autoFocus:!0,value:this.state.email,onChange:this.handleEmailChange,readOnly:this.state.waiting})),s["default"].createElement("div",{className:"form-group"},s["default"].createElement("label",{htmlFor:"inputPassword"},"Пароль"),s["default"].createElement("input",{type:"password",id:"inputPassword",className:"form-control",placeholder:"Введите пароль",required:!0,value:this.state.password,onChange:this.handlePasswordChange,readOnly:this.state.waiting})),s["default"].createElement("div",{className:"row"},s["default"].createElement("div",{className:"col-sm-6"},s["default"].createElement("button",{type:"submit",className:"btn btn-primary btn-block",readOnly:this.state.waiting},this.state.waiting?"Вход...":"Войти")),s["default"].createElement("div",{className:"col-sm-6"},s["default"].createElement("button",{type:"button",onClick:this.handleRecovery,className:"btn btn-link btn-block",style:{paddingLeft:"0",paddingRight:"0"}},"Забыли пароль?"))))},handleEmailChange:function(e){this.setState({email:e.target.value})},handlePasswordChange:function(e){this.setState({password:e.target.value})},handleSubmit:function(e){e.preventDefault(),this.setState({waiting:!0}),$.ajax({type:"POST",url:"/ServiceModel/AuthService.svc/Login",data:JSON.stringify({TimeZoneOffset:(new Date).getTimezoneOffset(),UserName:this.state.email,UserPassword:this.state.password,WorkspaceName:"Default"}),contentType:"application/json",dataType:"json",success:this.handleLoginResult,error:this.handleLoginError})},handleLoginResult:function(e){return this.setState({waiting:!1}),0!=e.Code?void this.setState({password:"",showAlert:!0,alertText:e.Message}):void $.ajax({type:"POST",url:"/0/rest/LeadGeneratorService/SaveReferralIntoSession",data:JSON.stringify({param:l["default"].get("lead_generator_referral")}),contentType:"application/json",dataType:"json",success:function(){return location.replace("/0/Nui/ViewModule.aspx")},error:function(){return location.replace("/0/Nui/ViewModule.aspx")}})},handleLoginError:function(e,t,a){this.setState({showAlert:!0,alertText:a.toString(),waiting:!1})},handleRecovery:function(){location.replace("/recovery.html")}})}});
//# sourceMappingURL=signin.bundle.js.map